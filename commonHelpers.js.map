{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"item-imagesList js-item-imagesList\">\n        <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width = \"360\"/>\n             </a>\n            <div>\n                <span>\n                  <p><b>Likes</b></p>\n                  <p>${likes}</p>\n                </span>\n        \n                <span>\n                  <p><b>Views</b></p>\n                  <p>${views}</p>\n                </span>\n                <span>\n                  <p><b>Comments</b></p>\n                  <p>${comments}</p>\n                </span>\n                <span>\n                  <p><b>Downloads</b></p>\n                  <p>${downloads}</p>\n                </span>\n            </div>\n       \n      </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createMarkup } from './render-functions';\nimport { elements } from '../main';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst key = '44929551-fd3f3fb9d8ead760ff0c5783d';\n\nexport function makeRequest(params) {\n  elements.loader.style.display = 'inline-block';\n\n  fetch(\n    `https://pixabay.com/api/?key=${key}&q=${params}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(({ hits }) => {\n      elements.loader.style.display = 'none';\n      if (hits.length === 0) {\n        iziToast.error({\n          title:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      elements.imagesList.insertAdjacentHTML('afterbegin', createMarkup(hits));\n\n      const OpenGallery = new SimpleLightbox('.js-imagesList a', {\n        captions: true,\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n      });\n\n      OpenGallery.on('show.simplelightbox', evt => {\n        evt.preventDefault();\n      });\n      OpenGallery.refresh();\n    })\n    .catch(err => console.error(err));\n}\n","import { makeRequest } from './js/pixabay-api';\n// import { createMarkup } from './js/render-functions';\n\nexport const elements = {\n  form: document.querySelector('.js-searchForm'),\n  serchInput: document.querySelector('.js-searchInput'),\n  searchBtn: document.querySelector('.js-searchBtn'),\n  imagesList: document.querySelector('.js-imagesList'),\n  loader: document.querySelector('.loader'),\n};\n\nelements.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  elements.imagesList.innerHTML = '';\n  if (elements.serchInput.value.trim() === '') {\n    return;\n  }\n  makeRequest(elements.serchInput.value.trim().toLowerCase());\n}\n"],"names":["createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","key","makeRequest","params","elements","res","hits","iziToast","OpenGallery","SimpleLightbox","evt","err","handlerSubmit"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,mBACWL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uBAK3BC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKLC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAK3B,EACA,KAAK,EAAE,CACZ,CChCA,MAAMC,EAAM,qCAEL,SAASC,EAAYC,EAAQ,CAClCC,EAAS,OAAO,MAAM,QAAU,eAEhC,MACE,gCAAgCH,CAAG,MAAME,CAAM,0DAChD,EACE,KAAKE,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CAElB,GADAF,EAAS,OAAO,MAAM,QAAU,OAC5BE,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,MACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDH,EAAS,WAAW,mBAAmB,aAAcZ,EAAac,CAAI,CAAC,EAEvE,MAAME,EAAc,IAAIC,EAAe,mBAAoB,CACzD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAO,EAEDD,EAAY,GAAG,sBAAuBE,GAAO,CAC3CA,EAAI,eAAc,CAC1B,CAAO,EACDF,EAAY,QAAO,CACzB,CAAK,EACA,MAAMG,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACpC,CC5CO,MAAMP,EAAW,CACtB,KAAM,SAAS,cAAc,gBAAgB,EAC7C,WAAY,SAAS,cAAc,iBAAiB,EACpD,UAAW,SAAS,cAAc,eAAe,EACjD,WAAY,SAAS,cAAc,gBAAgB,EACnD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAS,KAAK,iBAAiB,SAAUQ,CAAa,EAEtD,SAASA,EAAcF,EAAK,CAC1BA,EAAI,eAAc,EAClBN,EAAS,WAAW,UAAY,GAC5BA,EAAS,WAAW,MAAM,KAAI,IAAO,IAGzCF,EAAYE,EAAS,WAAW,MAAM,KAAM,EAAC,YAAW,CAAE,CAC5D"}